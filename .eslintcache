[{"/Users/manish/Documents/MyWorkSpace/my-app/src/App.js":"1","/Users/manish/Documents/MyWorkSpace/my-app/src/reportWebVitals.js":"2"},{"size":4091,"mtime":1611653059696,"results":"3","hashOfConfig":"4"},{"size":362,"mtime":1611609384382,"results":"5","hashOfConfig":"4"},{"filePath":"6","messages":"7","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"8"},"z0dd1j",{"filePath":"9","messages":"10","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/manish/Documents/MyWorkSpace/my-app/src/App.js",["11","12"],"import React, { useEffect, useState } from 'react';\nimport { PlaidLink } from 'react-plaid-link';\nimport \"./App.css\"\nconst App = props => {\nconst [apiKey,setApiKey] = useState(\"\")\nconst [ status,setStatus] = useState(\"form\");\nconst [userDetails,setUserDetails] = useState({fName:\"\",lName:\"\",email:\"\",address:\"\"})\nconst [otp,setOtp] = useState(0)\n  useEffect(()=>{\n    setUpApiKey()\n  },[])\n  const setUpApiKey = async ()=>{\n    const res = await fetch(\"http://localhost:9000/link\",{\n      method:\"POST\",\n      headers: {'Content-Type':'application/json'},\n      body: JSON.stringify({\n        \"email\": \"mkjha9555@gmail.com\",\n        })\n    })\n    const keys = await res.json()\n    if(keys && keys.results && keys.results.link_token){\n      console.log(res)\n      setApiKey(keys.results.link_token)\n    }\n  }\n  const onSuccess = async (token, metadata) => {\n    console.log(token,metadata)\n    const res = await fetch(\"http://localhost:9000/account-info\",{\n      method: 'post',\n      headers: {'Content-Type':'application/json'},\n       body: JSON.stringify({\n     \"token\": token,\n      \"metadata\":metadata\n     })\n    })\n    // const keys = await res.json()\n    console.log(res.json,\"TOKEN\")\n  }\n\n  const onChange = (value) =>{\n    const currentDetails = userDetails;\n    let newDetails = Object.assign({},currentDetails,value)\n    setUserDetails(newDetails)\n  }\n  const generateOtp =async ()=>{\n    const res = await fetch(\"http://localhost:9000/signup\",{\n      method:\"POST\",\n      headers: {'Content-Type':'application/json'},\n      body: JSON.stringify( {\n        \"email\":userDetails.email,\n        \"firstName\":userDetails.fName,\n        \"lastName\":userDetails.lName,\n        \"address\":userDetails.address\n      } )\n    })\n    const data = await res.json()\n    console.log(res,data)\n    if(data.results){\n\n      setStatus(\"otpScreen\")\n    }\n  }\n  const authenticate = async () =>{\n    const res = await fetch(\"http://localhost:9000/verifyotp\",{\n      method:\"POST\",\n      headers: {'Content-Type':'application/json'},\n      body: JSON.stringify( {\n        \"email\":userDetails.email,\n        verificationCode:otp\n      } )\n    })\n    const data = await res.json()\n    if(data.results){\n      if(data.results.status !== \"VERIFIED\"){\n        window.alert(\"OTP was not correct\")\n        setStatus(\"otpScreen\")\n      }else{\n        setStatus(\"account\");\n      }\n    \n    }\n  }\n\n  if(status == \"form\"){\n    return <div className=\"form\">\n      <div className=\"inputHolder\">\n        <input type=\"text\" placeholder=\"First Name\"  className=\"input\" \n        value={userDetails.fName}  \n        onChange={e=>onChange({fName:e.target.value})}\n        />\n        </div>\n        <div className=\"inputHolder\">\n        <input type=\"text\" placeholder=\"Last Name\"  className=\"input\" \n         value={userDetails.lName}  \n         onChange={e=>onChange({lName:e.target.value})}\n          />\n        </div>\n        <div className=\"inputHolder\">\n        <input type=\"text\" placeholder=\"Email\"  className=\"input\"\n         value={userDetails.email}  \n         onChange={e=>onChange({email:e.target.value})}\n          />\n        </div>  \n        <div className=\"inputHolder\">\n        <input type=\"text\" placeholder=\"Address\"  className=\"input\"\n         value={userDetails.address}  \n         onChange={e=>onChange({address:e.target.value})}\n          />\n        </div>\n        <button className=\"button\" onClick={()=>generateOtp()}> Submit </button>\n      </div>\n  }\n  if(status == \"otpScreen\"){\n    return <div className=\"form\">\n        <div className=\"inputHolder\">\n        <input type=\"number\" placeholder=\"OTP\"  className=\"input\"\n         value={otp}  \n         onChange={e=>setOtp(e.target.value)}\n          />\n        </div>  \n        <button className=\"button\" onClick={()=>authenticate()}> Submit </button>\n      </div>\n  }\n  if(!apiKey){\n    return <div className=\"form\"><h1>Loaiding... for api key </h1></div>\n  }\n  return (\n    <div className=\"form\">\n    <PlaidLink\n      token={apiKey}\n      onSuccess={onSuccess}\n    >\n      Connect a bank account\n    </PlaidLink></div>\n  );\n};\nexport default App;","/Users/manish/Documents/MyWorkSpace/my-app/src/reportWebVitals.js",[],{"ruleId":"13","severity":1,"message":"14","line":84,"column":13,"nodeType":"15","messageId":"16","endLine":84,"endColumn":15},{"ruleId":"13","severity":1,"message":"14","line":113,"column":13,"nodeType":"15","messageId":"16","endLine":113,"endColumn":15},"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected"]